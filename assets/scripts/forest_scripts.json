{
    "forest_scene_start": {
        "scene": "forest",
        "run_once": true,
        "trigger": {
            "event": "scene_start"
        },
        "actions": [
            {
                "type": "move_npc",
                "npcs": [
                    "merchant"
                ],
                "waypoint": "merchant_1"
            },
            {
                "type": "wait_for_movement",
                "npc": "merchant"
            }
        ]
    },
    "to_village_portal": {
        "scene": "forest",
        "trigger": {
            "event": "portal_entered",
            "portal": "to_village"
        },
        "actions": [
            {
                "type": "change_scene",
                "target_map": "village.tmx",
                "spawn_waypoint": "from_forest"
            }
        ],
        "conditions": [
            {
                "check": "script_completed",
                "script": "forest_scene_start"
            }
        ],
        "on_condition_fail": [{
            "type": "dialog",
            "speaker": "Player",
            "text": [
                "Let's see what the merchant says first."
            ]
        }]
    },
    "collect_key": {
        "scene": "forest",
        "trigger": {
            "event": "object_interacted",
            "object_name": "chest"
        },
        "run_once": true,
        "actions": [
            {
                "type": "dialog",
                "speaker": "Info",
                "text": [
                    "You found a Golden Key!"
                ]
            },
            {
                "type": "acquire_item",
                "item_id": "golden_key"
            }
        ],
        "conditions": [
            {
                "check": "script_completed",
                "script": "forest_scene_start"
            }
        ],
        "on_condition_fail": [
            {
                "type": "dialog",
                "speaker": "Player",
                "text": [
                    "Let's see what the merchant does first."
                ]
            }
        ]
    }
}
